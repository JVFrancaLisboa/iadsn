<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title th:text="${membro.nome} + ' Dados'"></title>
    <!-- CDN Bootstrap .css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container bg-dark">
      <div class="bg-light mx-auto">
        <form
          id="form-membro"
          class="row g-3 needs-validation col-md-8 col-lg-6 mx-auto"
          novalidate
          th:action="@{/membros/salvar-membro}"
          method="post"
          enctype="multipart/form-data"
        >
          <h1 class="text-center">Atualizar</h1>
          <em><h2 class="text-center" th:text="${membro.nome}"></h2></em>
          <!-- Foto -->
          <!--https://mdbootstrap.com/docs/standard/extended/file-input-image/-->
          <div class="col-12 text-center">
            <img
              id="selectedImage"
              th:src="${membro.foto != null} ? @{/membros_api/foto/{id}(id=${membro.id})} : 'https://mdbootstrap.com/img/Photos/Others/placeholder.jpg'"
              alt="Foto do membro"
              class="rounded-circle mb-3"
              style="width: 120px; height: 120px; object-fit: cover"
              onerror="this.src='https://via.placeholder.com/120x120?text=Sem+Foto'"
            />
            <br />
            <label class="btn btn-outline-primary btn-sm">
              Procurar Foto
              <input
                id="foto-membro"
                th:field="${membro.multipartFile}"
                type="file"
                class="d-none"
                onchange="displaySelectedImage(event, 'selectedImage')"
              />
            </label>
            <br />
            <label class="error-foto-membro fst-italic text-danger"></label>
          </div>

          <!-- Dados Pessoais -->
          <input
            th:field="${membro.id}"
            type="hidden"
            class="form-control"
            id="validationCustom"
            required
          />
          <!-- Nome -->
          <div class="col-md-6">
            <label for="nome-membro" class="form-label">Nome</label>
            <input
              th:field="${membro.nome}"
              type="text"
              class="nome_atual form-control"
              id="nome-membro"
              required
            />
            <label class="error-nome-membro fst-italic text-danger"></label>
          </div>

          <!-- Data de Nascimento -->
          <div class="col-md-6">
            <label for="data-membro" class="form-label">Nascimento</label>
            <input
              th:field="${membro.nascimento}"
              type="date"
              class="form-control"
              id="data-membro"
              required
            />
            <label class="error-data-membro fst-italic text-danger"></label>
          </div>

          <!-- E-Mail -->
          <div class="col-md-6">
            <label class="form-label">Email (Opcional)</label>
            <div class="input-group">
              <span class="input-group-text">@</span>
              <input
                th:field="${membro.email}"
                type="email"
                class="form-control"
                id="validationCustomUser"
              />
            </div>
          </div>

          <!-- CPF -->
          <div class="col-md-6">
            <label for="cpf-membro" class="form-label">CPF</label>
            <input
              th:field="${membro.cpf}"
              type="text"
              class="form-control"
              id="cpf-membro"
              required
            />
            <small class="text-muted">Exemplo: 123.456.789-12</small>
            <br />
            <label class="error-cpf-membro fst-italic text-danger"></label>
          </div>

          <!-- Informações Adicionais -->
          <!-- Sexo -->
          <div class="col-md-6">
            <label for="sexo-membro" class="form-label">Sexo</label>
            <select
              th:field="${membro.sexo}"
              class="form-select"
              id="sexo-membro"
              required
            >
              <option selected value="MASCULINO">Masculino</option>
              <option value="FEMININO">Feminino</option>
            </select>

            <label class="error-sexo-membro fst-italic text-danger"></label>
          </div>

          <!-- Status Civil -->
          <div class="col-md-6">
            <label for="status-membro" class="form-label">Status Civil</label>
            <select
              th:field="${membro.statusCivil}"
              class="form-select"
              id="status-membro"
              required
            >
              <option selected value="CASADO">Casado(a)</option>
              <option value="SOLTEIRO">Solteiro(a)</option>
              <option value="DIVORCIADO">Divorciado(a)</option>
              <option value="VIUVO">Viúvo(a)</option>
              <option value="SEPARADO">Separado(a)</option>
            </select>

            <label class="error-status-membro fst-italic text-danger"></label>
          </div>

          <!-- Cargo -->
          <div class="col-12">
            <label for="cargo-membro" class="form-label">Cargo</label>
            <select
              th:field="${membro.cargo}"
              class="form-select"
              id="cargo-membro"
              required
            >
              <option selected value="MEMBRO">Membro</option>
              <option value="PASTOR_PRESIDENTE">Pastor Presidente</option>
              <option value="CO_PASTOR">Co-Pastor</option>
              <option value="PASTOR">Pastor</option>
              <option value="PRESBITERO">Presbítero</option>
              <option value="EVANGELISTA">Evangelista</option>
              <option value="MISSIONARIO">Missionário(a)</option>
              <option value="DIACONO">Diácono/Diaconisa</option>
              <option value="LIDER_LOUVOR">
                Líder do Ministério de Louvor
              </option>
              <option value="MUSICO">Músico</option>
              <option value="CANTOR">Cantor</option>
              <option value="LIDER_JOVENS">
                Líder do Ministério de Jovens
              </option>
              <option value="LIDER_INFANTIL">
                Líder do Ministério Infantil
              </option>
              <option value="LIDER_ADOLESCENTES">
                Líder do Ministério de Adolescentes
              </option>
              <option value="LIDER_CASAIS">
                Líder do Ministério de Casais
              </option>
              <option value="LIDER_MULHERES">
                Líder do Ministério de Mulheres
              </option>
              <option value="LIDER_HOMENS">
                Líder do Ministério de Homens
              </option>
              <option value="LIDER_MISSOES">Líder de Missões</option>
              <option value="LIDER_INTERCESSAO">Líder de Intercessão</option>
              <option value="CONSELHEIRO_ESPIRITUAL">
                Conselheiro Espiritual
              </option>
              <option value="SECRETARIO">Secretário(a) da Igreja</option>
              <option value="TESOUREIRO">Tesoureiro(a)</option>
              <option value="CONTADOR">Contador(a)</option>
              <option value="ZELADOR">Zelador(a)</option>
              <option value="RECEPCIONISTA">Recepcionista</option>
              <option value="COORDENADOR_EVENTOS">
                Coordenador de Eventos
              </option>
              <option value="COMUNICACAO">Comunicação</option>
              <option value="OBREIRO">Obreiro(a)</option>
              <option value="DIRIGENTE_CONGREGACAO">
                Dirigente de Congregação
              </option>
              <option value="PROFESSOR_EBD">
                Professor(a) da Escola Bíblica Dominical (EBD)
              </option>
              <option value="LIDER_LIBERTACAO">
                Líder do Ministério de Libertação
              </option>
              <option value="LIDER_ASSISTENCIA_SOCIAL">
                Líder de Assistência Social
              </option>
              <option value="MINISTRO_PALAVRA">Ministro da Palavra</option>
              <option value="PRESIDENTE_CONVENCAO_ESTADUAL">
                Presidente da Convenção Estadual/Regional
              </option>
              <option value="SUPERINTENDENTE_CAMPO">
                Superintendente de Campo
              </option>
              <option value="COORDENADOR_REGIONAL">
                Coordenador Regional de Jovens
              </option>
            </select>

            <label class="error-cargo-membro fst-italic text-danger"></label>
          </div>

          <!-- Contato -->
           <!-- Endereço -->
          <div class="col-md-8">
            <label for="endereco-membro" class="form-label">Endereço</label>
            <input
              th:field="${membro.endereco}"
              type="text"
              class="form-control"
              id="endereco-membro"
              required
            />
            <label class="error-endereco-membro fst-italic text-danger"></label>
          </div>

          <!-- Telefone -->
          <div class="col-md-4">
            <label for="telefone-membro" class="form-label">Telefone</label>
            <input
              th:field="${membro.telefone}"
              type="text"
              class="form-control"
              id="telefone-membro"
              required
            />
            <small class="text-muted">Exemplo: (61)912457823</small>
            <br />
            <label class="error-telefone-membro fst-italic text-danger"></label>
          </div>

          <!-- Botão -->
          <div class="col-12 text-center">
            <button class="btn btn-success" type="submit">Atualizar</button>
          </div>
        </form>

        <button class="btn btn-secondary">
          <a style="text-decoration: none; color: inherit" th:href="@{/}"
            >Voltar</a
          >
        </button>
      </div>
    </div>
    <!-- jQuery .js -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- validações -->
    <script th:src="@{/js/ajaxValidations.js}"></script>
    <!-- CDN Bootstrap .js -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- Input de foto -->
    <script th:src="@{/js/inputImage.js}"></script>
  </body>
</html>
